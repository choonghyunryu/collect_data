################################################################################
## 01. Prepare
################################################################################
##==============================================================================
## 01.01. Load library
##==============================================================================
library("dbplyr")
library("dplyr")
library("koscrap")

##==============================================================================
## 01.02. Set parameters
##==============================================================================
## Your authorize key
client_id <- "XXXXXXXXXXXXXXXX"
client_secret <- "XXXXXXXXXX"

##==============================================================================
## 01.03. Connect DBMS 
##==============================================================================
db_name <- here::here("data", "NEWS.sqlite")
con <- DBI::dbConnect(RSQLite::SQLite(), db_name)

################################################################################
## 02. Scrap data from NAVER NEWS server
################################################################################
##==============================================================================
## 02.01. 작업 대상 파라미터 선정
##==============================================================================
keyword <- "불평등" 

##==============================================================================
## 02.02. Scrap from NAVER
##==============================================================================
search_list <- search_naver(
  keyword, client_id = client_id, client_secret = client_secret,
  do_done = TRUE
)

##==============================================================================
## 02.03. 작업 데이터 DB 저장
##==============================================================================
DBI::dbWriteTable(con, "TB_NEWS_INEQUALITY", search_list, overwrite = TRUE)

DBI::dbDisconnect(con)
